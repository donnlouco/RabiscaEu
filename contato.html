<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="contato.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@100..900&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
</head>
<body>
    <div class="containeres">
        <div class="header">
            <div class="box-header">
                <div class="headerContent">
                    <div class="logoHeader">
                        <img src="logo2.png">
                    </div>
                    <div class="header-right">
                        <a href="index.html"><b>INICIO</b></a>
                            <a href="estudio.html"><b>O ESTUDIO</b></a>
                            <a href="equipe.html"> <b>EQUIPE</b></a>
                            <a href=""> <b>GALERIA</b></a>
                            <a href=""><b>ORCAMENTO</b></a>
                            <a href="contato.html"><b>CONTATO</b></a>
                    </div>
                </div>
            </div>
         
        </div>
        <div class="main">
            <div class="box">
                <div class="contatoContent">
                    <div class="tituloContato">
                        <h1><b>ENTRE EM CONTATO</b></h1>
                        <p>Estamos aqui para tirar suas duvidas e agendar sua proxima tattoo</p>
                    </div>
                    <div class="corpoContato">
                        <div class="esquerdaContato">
                            <div class="enderecoContato">
                                <h3><b>Endereco</b></h3>
                                <p>Rua Angelo Melao 790 - JARDIM DAS PAINEIRAS <br>
                                Tres Lagoas-MS</p>
                            </div>
                            <div class="whatsContato">
                                <h3><b>WhatsApp</b></h3>
                                <p>(67) 99240-2525</p>
                                <a href="" id="btnWhats">CHAMAR NO WHATSAPP</a>
                            </div>
                            <div class="emailContato">
                                <h3><b>Email</b></h3>
                                <p>contato@rabiscaeu.com.br</p>
                            </div>
                            <div class="horarioContato">
                                <h3><b>Horario de Funcionamento</b></h3>
                                <p>Segunda a Sexta: 10h as 20h <br>
                                Sabado: 10h as 18h</p>
                            </div>
                        </div>
                        <div class="direitaContato">
                            <div class="mapaContato">
                                <iframe
                                    src="https://www.google.com/maps?q=-20.763522,-51.706243&z=16&output=embed"
                                    loading="lazy"
                                    allowfullscreen>
                                </iframe>
                            </div>
                            <div class="disponibilidadeContato">
                                <h3><b>Consultar Disponibilidade</b></h3>
                                <label for="dataAgenda">Selecione a data:</label>
                                <input type="date" id="dataAgenda" min="">

                                <button id="btnConsultar">Ver horários disponíveis</button>

                                <div id="resultadoDisponibilidade"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="footer">
            <div class="box">
                <div class="footer-content">
                    <div class="logoFooter">
                        <div class="logo-foooter"><img src="logo2.png" alt=""></div>
                        Tatto free hand. Desde 2025
                    </div>
                    <div class="links-footer">
                        <h2>LINKS RAPIDOS</h2>
                        <a href="estudio.html">O estudio</a><br>
                        <a href="equipe.html">Artistas</a><br>
                        <a href="">Galeria</a><br>
                        <a href="contato.html">Orcamento</a><br>
                    </div>
                    <div class="contatoFooter">
                        <h2>CONTATO</h2>
                        <p>Horario de funcionamento <br>
                        Segunda a Sexta: 10h as 20h <br>
                        Sabado: 10h as 18h</p>
                        <a href="" class="meuBtnFooter"> <img src="https://i.imgur.com/ewMcAsT.png" alt=""></a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>

        // para bloquear as datasa passadas no input la
        document.addEventListener("DOMContentLoaded", () => {
            const hoje = new Date().toISOString().split("T")[0];
            document.getElementById("dataAgenda").setAttribute("min", hoje);
        });

        document.getElementById("btnConsultar").addEventListener("click", async () => {

            const data = document.getElementById("dataAgenda").value;
            const resultado = document.getElementById("resultadoDisponibilidade");

            if (!data) {
                resultado.innerHTML = "<p style='color:red'>Selecione uma data.</p>";
                return;
            }

            const hoje = new Date().toISOString().split("T")[0];
            if (data < hoje) {
                resultado.innerHTML = "<p style='color:red'>Você não pode selecionar uma data passada.</p>";
                return;
            }

            resultado.innerHTML = "Carregando...";

            try {
                const response = await fetch(`http://localhost:3000/disponibilidade?data=${data}`);
                const horarios = await response.json();

                if (horarios.length === 0) {
                    resultado.innerHTML = "<p>Nenhum horário disponível.</p>";
                    return;
                }

                let html = "<h4>Horários disponíveis:</h4><ul>";
                horarios.forEach(h => html += `<li>${h}</li>`);
                html += "</ul>";

                resultado.innerHTML = html;

            } catch (error) {
                resultado.innerHTML = "<p style='color:red'>Erro ao consultar o servidor.</p>";
            }
        });
    </script>
    <script>
        window.addEventListener("scroll", () => {
            const header = document.querySelector(".header");

            if (window.scrollY > 30) {
                header.classList.add("scrolled");
            } else {
                header.classList.remove("scrolled");
            }
        });
    </script>
</body>

</html>